{"ast":null,"code":"import { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatSnackBarModule } from '@angular/material/snack-bar';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatIconModule } from '@angular/material/icon';\nimport { EqualToValidatorDirective } from '../shared/validators/equal-to.validator';\nimport { ImagemComponent } from '../shared/imagem/imagem.component';\nimport { NavbarComponent } from '../layout/navbar.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../shared/services/auth.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/material/snack-bar\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"@angular/material/card\";\nimport * as i7 from \"@angular/material/form-field\";\nimport * as i8 from \"@angular/material/input\";\nimport * as i9 from \"@angular/material/button\";\nfunction RegisterComponent_mat_error_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\", 16);\n    i0.ɵɵtext(1, \" Nome \\u00E9 obrigat\\u00F3rio \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_mat_error_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\", 16);\n    i0.ɵɵtext(1, \" Nome deve ter pelo menos 3 caracteres \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_mat_error_23_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\", 16);\n    i0.ɵɵtext(1, \" E-mail \\u00E9 obrigat\\u00F3rio \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_mat_error_24_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\", 16);\n    i0.ɵɵtext(1, \" Por favor, insira um e-mail v\\u00E1lido \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_mat_error_29_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\", 16);\n    i0.ɵɵtext(1, \" CPF \\u00E9 obrigat\\u00F3rio \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_mat_error_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\", 16);\n    i0.ɵɵtext(1, \" Senha \\u00E9 obrigat\\u00F3ria \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_mat_error_35_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\", 16);\n    i0.ɵɵtext(1, \" Senha deve ter pelo menos 6 caracteres \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_mat_error_40_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\", 16);\n    i0.ɵɵtext(1, \" Confirma\\u00E7\\u00E3o de senha \\u00E9 obrigat\\u00F3ria \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_mat_error_41_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\", 16);\n    i0.ɵɵtext(1, \" As senhas n\\u00E3o coincidem \");\n    i0.ɵɵelementEnd();\n  }\n}\nexport let RegisterComponent = /*#__PURE__*/(() => {\n  class RegisterComponent {\n    auth;\n    router;\n    snackBar;\n    nome = '';\n    email = '';\n    cpf = '';\n    senha = '';\n    confirmarSenha = '';\n    constructor(auth, router, snackBar) {\n      this.auth = auth;\n      this.router = router;\n      this.snackBar = snackBar;\n    }\n    formatCPF() {\n      let value = this.cpf.replace(/\\D/g, '');\n      if (value.length > 3) {\n        value = value.substring(0, 3) + '.' + value.substring(3);\n      }\n      if (value.length > 7) {\n        value = value.substring(0, 7) + '.' + value.substring(7);\n      }\n      if (value.length > 11) {\n        value = value.substring(0, 11) + '-' + value.substring(11);\n      }\n      this.cpf = value.substring(0, 14);\n    }\n    register() {\n      if (this.senha !== this.confirmarSenha) {\n        this.snackBar.open('As senhas não coincidem', 'Fechar', {\n          duration: 5000\n        });\n        return;\n      }\n      const cpfSemMascara = this.cpf.replace(/\\D/g, '');\n      this.auth.register(this.nome, this.email, cpfSemMascara, this.senha).subscribe({\n        next: () => {\n          this.snackBar.open('Cadastro realizado com sucesso!', 'Fechar', {\n            duration: 3000\n          });\n          this.router.navigate(['/login']);\n        },\n        error: err => {\n          let errorMessage = 'Erro ao realizar cadastro. Tente novamente.';\n          if (err.error && err.error.message) {\n            errorMessage = err.error.message;\n          }\n          this.snackBar.open(errorMessage, 'Fechar', {\n            duration: 5000\n          });\n        }\n      });\n    }\n    static ɵfac = function RegisterComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || RegisterComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.MatSnackBar));\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: RegisterComponent,\n      selectors: [[\"app-register\"]],\n      decls: 44,\n      vars: 15,\n      consts: [[\"registerForm\", \"ngForm\"], [1, \"cadastro-content\"], [1, \"login-container\"], [1, \"login-card\"], [1, \"flex-title\"], [\"src\", \"assets/image.png\", \"alt\", \"Imagem\", 1, \"titulo-imagem\"], [1, \"mat-headline\", \"text-center\"], [3, \"ngSubmit\"], [\"appearance\", \"outline\", 1, \"full-width\"], [\"matInput\", \"\", \"name\", \"nome\", \"required\", \"\", \"minlength\", \"3\", 3, \"ngModelChange\", \"ngModel\"], [\"class\", \"warning\", 4, \"ngIf\"], [\"matInput\", \"\", \"name\", \"email\", \"type\", \"email\", \"required\", \"\", \"email\", \"\", 3, \"ngModelChange\", \"ngModel\"], [\"matInput\", \"\", \"name\", \"cpf\", \"required\", \"\", \"maxlength\", \"14\", 3, \"ngModelChange\", \"input\", \"ngModel\"], [\"matInput\", \"\", \"name\", \"senha\", \"type\", \"password\", \"required\", \"\", \"minlength\", \"6\", 3, \"ngModelChange\", \"ngModel\"], [\"matInput\", \"\", \"name\", \"confirmarSenha\", \"type\", \"password\", \"required\", \"\", 3, \"ngModelChange\", \"ngModel\", \"equalTo\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", \"type\", \"submit\", 1, \"full-width\"], [1, \"warning\"]],\n      template: function RegisterComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          const _r1 = i0.ɵɵgetCurrentView();\n          i0.ɵɵelement(0, \"app-navbar\");\n          i0.ɵɵelementStart(1, \"div\", 1);\n          i0.ɵɵelement(2, \"app-imagem\");\n          i0.ɵɵelementStart(3, \"div\", 2)(4, \"mat-card\", 3)(5, \"div\", 4)(6, \"div\");\n          i0.ɵɵelement(7, \"img\", 5);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(8, \"div\")(9, \"h2\", 6);\n          i0.ɵɵtext(10, \"Bem vindo ao ChatBBTS\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(11, \"form\", 7, 0);\n          i0.ɵɵlistener(\"ngSubmit\", function RegisterComponent_Template_form_ngSubmit_11_listener() {\n            i0.ɵɵrestoreView(_r1);\n            return i0.ɵɵresetView(ctx.register());\n          });\n          i0.ɵɵelementStart(13, \"mat-form-field\", 8)(14, \"mat-label\");\n          i0.ɵɵtext(15, \"Nome\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(16, \"input\", 9);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function RegisterComponent_Template_input_ngModelChange_16_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            i0.ɵɵtwoWayBindingSet(ctx.nome, $event) || (ctx.nome = $event);\n            return i0.ɵɵresetView($event);\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(17, RegisterComponent_mat_error_17_Template, 2, 0, \"mat-error\", 10)(18, RegisterComponent_mat_error_18_Template, 2, 0, \"mat-error\", 10);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(19, \"mat-form-field\", 8)(20, \"mat-label\");\n          i0.ɵɵtext(21, \"E-mail\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(22, \"input\", 11);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function RegisterComponent_Template_input_ngModelChange_22_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            i0.ɵɵtwoWayBindingSet(ctx.email, $event) || (ctx.email = $event);\n            return i0.ɵɵresetView($event);\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(23, RegisterComponent_mat_error_23_Template, 2, 0, \"mat-error\", 10)(24, RegisterComponent_mat_error_24_Template, 2, 0, \"mat-error\", 10);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(25, \"mat-form-field\", 8)(26, \"mat-label\");\n          i0.ɵɵtext(27, \"CPF\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(28, \"input\", 12);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function RegisterComponent_Template_input_ngModelChange_28_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            i0.ɵɵtwoWayBindingSet(ctx.cpf, $event) || (ctx.cpf = $event);\n            return i0.ɵɵresetView($event);\n          });\n          i0.ɵɵlistener(\"input\", function RegisterComponent_Template_input_input_28_listener() {\n            i0.ɵɵrestoreView(_r1);\n            return i0.ɵɵresetView(ctx.formatCPF());\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(29, RegisterComponent_mat_error_29_Template, 2, 0, \"mat-error\", 10);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(30, \"mat-form-field\", 8)(31, \"mat-label\");\n          i0.ɵɵtext(32, \"Senha\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(33, \"input\", 13);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function RegisterComponent_Template_input_ngModelChange_33_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            i0.ɵɵtwoWayBindingSet(ctx.senha, $event) || (ctx.senha = $event);\n            return i0.ɵɵresetView($event);\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(34, RegisterComponent_mat_error_34_Template, 2, 0, \"mat-error\", 10)(35, RegisterComponent_mat_error_35_Template, 2, 0, \"mat-error\", 10);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(36, \"mat-form-field\", 8)(37, \"mat-label\");\n          i0.ɵɵtext(38, \"Confirmar Senha\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(39, \"input\", 14);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function RegisterComponent_Template_input_ngModelChange_39_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            i0.ɵɵtwoWayBindingSet(ctx.confirmarSenha, $event) || (ctx.confirmarSenha = $event);\n            return i0.ɵɵresetView($event);\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(40, RegisterComponent_mat_error_40_Template, 2, 0, \"mat-error\", 10)(41, RegisterComponent_mat_error_41_Template, 2, 0, \"mat-error\", 10);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(42, \"button\", 15);\n          i0.ɵɵtext(43, \" Cadastrar \");\n          i0.ɵɵelementEnd()()()()();\n        }\n        if (rf & 2) {\n          const registerForm_r2 = i0.ɵɵreference(12);\n          i0.ɵɵadvance(16);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.nome);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", registerForm_r2.controls[\"nome\"] == null ? null : registerForm_r2.controls[\"nome\"].hasError(\"required\"));\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", registerForm_r2.controls[\"nome\"] == null ? null : registerForm_r2.controls[\"nome\"].hasError(\"minlength\"));\n          i0.ɵɵadvance(4);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.email);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", registerForm_r2.controls[\"email\"] == null ? null : registerForm_r2.controls[\"email\"].hasError(\"required\"));\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", registerForm_r2.controls[\"email\"] == null ? null : registerForm_r2.controls[\"email\"].hasError(\"email\"));\n          i0.ɵɵadvance(4);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.cpf);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", registerForm_r2.controls[\"cpf\"] == null ? null : registerForm_r2.controls[\"cpf\"].hasError(\"required\"));\n          i0.ɵɵadvance(4);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.senha);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", registerForm_r2.controls[\"senha\"] == null ? null : registerForm_r2.controls[\"senha\"].hasError(\"required\"));\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", registerForm_r2.controls[\"senha\"] == null ? null : registerForm_r2.controls[\"senha\"].hasError(\"minlength\"));\n          i0.ɵɵadvance(4);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.confirmarSenha);\n          i0.ɵɵproperty(\"equalTo\", ctx.senha);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", registerForm_r2.controls[\"confirmarSenha\"] == null ? null : registerForm_r2.controls[\"confirmarSenha\"].hasError(\"required\"));\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", registerForm_r2.controls[\"confirmarSenha\"] == null ? null : registerForm_r2.controls[\"confirmarSenha\"].hasError(\"equalTo\"));\n        }\n      },\n      dependencies: [CommonModule, i4.NgIf, FormsModule, i5.ɵNgNoValidate, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.RequiredValidator, i5.MinLengthValidator, i5.MaxLengthValidator, i5.EmailValidator, i5.NgModel, i5.NgForm, ReactiveFormsModule, MatCardModule, i6.MatCard, MatFormFieldModule, i7.MatFormField, i7.MatLabel, i7.MatError, MatInputModule, i8.MatInput, MatButtonModule, i9.MatButton, MatSnackBarModule, MatIconModule, EqualToValidatorDirective, ImagemComponent, NavbarComponent],\n      styles: [\".cadastro-content[_ngcontent-%COMP%]{display:flex;height:100vh;background:#465eff}.login-card[_ngcontent-%COMP%]{background:#4154cc92;padding:2rem;border-radius:8px;width:100%;max-width:400px}button[mat-raised-button][_ngcontent-%COMP%]{background-color:#fff;color:#465eff;font-weight:700;border-radius:6px}button[mat-raised-button][_ngcontent-%COMP%]:hover{background-color:#f0f0f0}.flex-title[_ngcontent-%COMP%]{display:flex;gap:20px;margin-bottom:25px;align-items:center}.mat-headline[_ngcontent-%COMP%]{color:#fff;margin:0}.warning[_ngcontent-%COMP%]{font-size:14px;margin-top:4px;margin-bottom:10px}app-imagem[_ngcontent-%COMP%]{flex:1;height:100%;padding:20px;box-sizing:border-box;display:flex;align-items:center;justify-content:center}.login-container[_ngcontent-%COMP%]{flex:1;height:100%;padding:20px;box-sizing:border-box;display:flex;align-items:center;justify-content:center}.full-width[_ngcontent-%COMP%]{width:100%;color:#fff;margin-bottom:1rem}input[_ngcontent-%COMP%]{padding-left:15px}.titulo-imagem[_ngcontent-%COMP%]{width:45px;height:auto}@media screen and (max-width: 768px){.cadastro-content[_ngcontent-%COMP%]{flex-direction:column}app-imagem[_ngcontent-%COMP%]{display:none}.login-container[_ngcontent-%COMP%]{height:auto;max-width:100%;padding:20px}.login-card[_ngcontent-%COMP%]{padding:1.5rem}}\"]\n    });\n  }\n  return RegisterComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}