{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../shared/services/auth.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/material/snack-bar\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nimport * as i6 from \"@angular/material/button\";\nimport * as i7 from \"@angular/material/card\";\nimport * as i8 from \"@angular/material/form-field\";\nimport * as i9 from \"@angular/material/input\";\nfunction RegisterComponent_mat_error_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Nome \\u00E9 obrigat\\u00F3rio \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_mat_error_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Nome deve ter pelo menos 3 caracteres \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_mat_error_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" E-mail \\u00E9 obrigat\\u00F3rio \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_mat_error_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Por favor, insira um e-mail v\\u00E1lido \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_mat_error_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" CPF \\u00E9 obrigat\\u00F3rio \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_mat_error_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Senha \\u00E9 obrigat\\u00F3ria \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_mat_error_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Senha deve ter pelo menos 6 caracteres \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_mat_error_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" Confirma\\u00E7\\u00E3o de senha \\u00E9 obrigat\\u00F3ria \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_mat_error_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-error\");\n    i0.ɵɵtext(1, \" As senhas n\\u00E3o coincidem \");\n    i0.ɵɵelementEnd();\n  }\n}\nexport let RegisterComponent = /*#__PURE__*/(() => {\n  class RegisterComponent {\n    constructor(auth, router, snackBar) {\n      this.auth = auth;\n      this.router = router;\n      this.snackBar = snackBar;\n      this.nome = '';\n      this.email = '';\n      this.cpf = '';\n      this.senha = '';\n      this.confirmarSenha = '';\n    }\n    formatCPF() {\n      let value = this.cpf.replace(/\\D/g, '');\n      if (value.length > 3) {\n        value = value.substring(0, 3) + '.' + value.substring(3);\n      }\n      if (value.length > 7) {\n        value = value.substring(0, 7) + '.' + value.substring(7);\n      }\n      if (value.length > 11) {\n        value = value.substring(0, 11) + '-' + value.substring(11);\n      }\n      this.cpf = value.substring(0, 14); // Corrigido para 14 com máscara (000.000.000-00)\n    }\n    register() {\n      if (this.senha !== this.confirmarSenha) {\n        this.snackBar.open('As senhas não coincidem', 'Fechar', {\n          duration: 5000\n        });\n        return;\n      }\n      const cpfSemMascara = this.cpf.replace(/\\D/g, '');\n      this.auth.register(this.nome, this.email, cpfSemMascara, this.senha).subscribe({\n        next: () => {\n          this.snackBar.open('Cadastro realizado com sucesso!', 'Fechar', {\n            duration: 3000\n          });\n          this.router.navigate(['/login']);\n        },\n        error: err => {\n          let errorMessage = 'Erro ao realizar cadastro. Tente novamente.';\n          if (err.error && err.error.message) {\n            errorMessage = err.error.message;\n          }\n          this.snackBar.open(errorMessage, 'Fechar', {\n            duration: 5000\n          });\n        }\n      });\n    }\n    static #_ = this.ɵfac = function RegisterComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || RegisterComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.Router), i0.ɵɵdirectiveInject(i3.MatSnackBar));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: RegisterComponent,\n      selectors: [[\"app-register\"]],\n      decls: 37,\n      vars: 16,\n      consts: [[\"registerForm\", \"ngForm\"], [1, \"register-container\"], [1, \"register-card\"], [1, \"mat-headline\", \"text-center\"], [3, \"ngSubmit\"], [\"appearance\", \"outline\", 1, \"full-width\"], [\"matInput\", \"\", \"name\", \"nome\", \"required\", \"\", \"minlength\", \"3\", 3, \"ngModelChange\", \"ngModel\"], [4, \"ngIf\"], [\"matInput\", \"\", \"name\", \"email\", \"type\", \"email\", \"required\", \"\", \"email\", \"\", 3, \"ngModelChange\", \"ngModel\"], [\"matInput\", \"\", \"name\", \"cpf\", \"required\", \"\", \"maxlength\", \"14\", 3, \"ngModelChange\", \"input\", \"ngModel\"], [\"matInput\", \"\", \"name\", \"senha\", \"type\", \"password\", \"required\", \"\", \"minlength\", \"6\", 3, \"ngModelChange\", \"ngModel\"], [\"matInput\", \"\", \"name\", \"confirmarSenha\", \"type\", \"password\", \"required\", \"\", 3, \"ngModelChange\", \"ngModel\", \"equalTo\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", \"type\", \"submit\", 1, \"full-width\", 3, \"disabled\"]],\n      template: function RegisterComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          const _r1 = i0.ɵɵgetCurrentView();\n          i0.ɵɵelementStart(0, \"div\", 1)(1, \"mat-card\", 2)(2, \"h2\", 3);\n          i0.ɵɵtext(3, \"Cadastro\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"form\", 4, 0);\n          i0.ɵɵlistener(\"ngSubmit\", function RegisterComponent_Template_form_ngSubmit_4_listener() {\n            i0.ɵɵrestoreView(_r1);\n            return i0.ɵɵresetView(ctx.register());\n          });\n          i0.ɵɵelementStart(6, \"mat-form-field\", 5)(7, \"mat-label\");\n          i0.ɵɵtext(8, \"Nome\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(9, \"input\", 6);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function RegisterComponent_Template_input_ngModelChange_9_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            i0.ɵɵtwoWayBindingSet(ctx.nome, $event) || (ctx.nome = $event);\n            return i0.ɵɵresetView($event);\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(10, RegisterComponent_mat_error_10_Template, 2, 0, \"mat-error\", 7)(11, RegisterComponent_mat_error_11_Template, 2, 0, \"mat-error\", 7);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(12, \"mat-form-field\", 5)(13, \"mat-label\");\n          i0.ɵɵtext(14, \"E-mail\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(15, \"input\", 8);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function RegisterComponent_Template_input_ngModelChange_15_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            i0.ɵɵtwoWayBindingSet(ctx.email, $event) || (ctx.email = $event);\n            return i0.ɵɵresetView($event);\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(16, RegisterComponent_mat_error_16_Template, 2, 0, \"mat-error\", 7)(17, RegisterComponent_mat_error_17_Template, 2, 0, \"mat-error\", 7);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(18, \"mat-form-field\", 5)(19, \"mat-label\");\n          i0.ɵɵtext(20, \"CPF\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(21, \"input\", 9);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function RegisterComponent_Template_input_ngModelChange_21_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            i0.ɵɵtwoWayBindingSet(ctx.cpf, $event) || (ctx.cpf = $event);\n            return i0.ɵɵresetView($event);\n          });\n          i0.ɵɵlistener(\"input\", function RegisterComponent_Template_input_input_21_listener() {\n            i0.ɵɵrestoreView(_r1);\n            return i0.ɵɵresetView(ctx.formatCPF());\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(22, RegisterComponent_mat_error_22_Template, 2, 0, \"mat-error\", 7);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(23, \"mat-form-field\", 5)(24, \"mat-label\");\n          i0.ɵɵtext(25, \"Senha\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(26, \"input\", 10);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function RegisterComponent_Template_input_ngModelChange_26_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            i0.ɵɵtwoWayBindingSet(ctx.senha, $event) || (ctx.senha = $event);\n            return i0.ɵɵresetView($event);\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(27, RegisterComponent_mat_error_27_Template, 2, 0, \"mat-error\", 7)(28, RegisterComponent_mat_error_28_Template, 2, 0, \"mat-error\", 7);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(29, \"mat-form-field\", 5)(30, \"mat-label\");\n          i0.ɵɵtext(31, \"Confirmar Senha\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(32, \"input\", 11);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function RegisterComponent_Template_input_ngModelChange_32_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            i0.ɵɵtwoWayBindingSet(ctx.confirmarSenha, $event) || (ctx.confirmarSenha = $event);\n            return i0.ɵɵresetView($event);\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(33, RegisterComponent_mat_error_33_Template, 2, 0, \"mat-error\", 7)(34, RegisterComponent_mat_error_34_Template, 2, 0, \"mat-error\", 7);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(35, \"button\", 12);\n          i0.ɵɵtext(36, \" Cadastrar \");\n          i0.ɵɵelementEnd()()()();\n        }\n        if (rf & 2) {\n          const registerForm_r2 = i0.ɵɵreference(5);\n          i0.ɵɵadvance(9);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.nome);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", registerForm_r2.controls[\"nome\"] == null ? null : registerForm_r2.controls[\"nome\"].hasError(\"required\"));\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", registerForm_r2.controls[\"nome\"] == null ? null : registerForm_r2.controls[\"nome\"].hasError(\"minlength\"));\n          i0.ɵɵadvance(4);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.email);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", registerForm_r2.controls[\"email\"] == null ? null : registerForm_r2.controls[\"email\"].hasError(\"required\"));\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", registerForm_r2.controls[\"email\"] == null ? null : registerForm_r2.controls[\"email\"].hasError(\"email\"));\n          i0.ɵɵadvance(4);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.cpf);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", registerForm_r2.controls[\"cpf\"] == null ? null : registerForm_r2.controls[\"cpf\"].hasError(\"required\"));\n          i0.ɵɵadvance(4);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.senha);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", registerForm_r2.controls[\"senha\"] == null ? null : registerForm_r2.controls[\"senha\"].hasError(\"required\"));\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", registerForm_r2.controls[\"senha\"] == null ? null : registerForm_r2.controls[\"senha\"].hasError(\"minlength\"));\n          i0.ɵɵadvance(4);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.confirmarSenha);\n          i0.ɵɵproperty(\"equalTo\", ctx.senha);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", registerForm_r2.controls[\"confirmarSenha\"] == null ? null : registerForm_r2.controls[\"confirmarSenha\"].hasError(\"required\"));\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", registerForm_r2.controls[\"confirmarSenha\"] == null ? null : registerForm_r2.controls[\"confirmarSenha\"].hasError(\"equalTo\"));\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"disabled\", !registerForm_r2.valid);\n        }\n      },\n      dependencies: [i4.NgIf, i5.ɵNgNoValidate, i5.DefaultValueAccessor, i5.NgControlStatus, i5.NgControlStatusGroup, i5.RequiredValidator, i5.MinLengthValidator, i5.MaxLengthValidator, i5.EmailValidator, i5.NgModel, i5.NgForm, i6.MatButton, i7.MatCard, i8.MatFormField, i8.MatLabel, i8.MatError, i9.MatInput],\n      styles: [\".register-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100vh;background:#f5f5f5}.register-card[_ngcontent-%COMP%]{width:100%;max-width:400px;padding:2rem}.full-width[_ngcontent-%COMP%]{width:100%;margin-bottom:1rem}\"]\n    });\n  }\n  return RegisterComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}